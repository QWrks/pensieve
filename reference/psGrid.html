<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Store sorting grid as logical matrix. — psGrid • pensieve</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Store sorting grid as logical matrix. — psGrid" />
<meta property="og:description" content="Stores sorting grid as a logical \(i * k\) matrix with sorting columns as columns, sorting rows as rows and TRUE (allowed) or FALSE (not allowed) in cells." />
<meta property="og:image" content="http://www.maxheld.de/pensieve/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-48816137-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48816137-1');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pensieve</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9022</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Design</li>
    <li>
      <a href="../articles/methodology.html">Methodology</a>
    </li>
    <li>
      <a href="../articles/items.html">Items</a>
    </li>
    <li>
      <a href="../articles/grid.html">Grid</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">New Approaches</li>
    <li>
      <a href="../articles/pairwise.html">Pairwise</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maxheld83/pensieve">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Store sorting grid as logical matrix.</h1>
    <small class="dont-index">Source: <a href='https://github.com/maxheld83/pensieve/blob/master/R/psGrid.R'><code>R/psGrid.R</code></a></small>
    <div class="hidden name"><code>psGrid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Stores sorting grid as a logical \(i * k\) matrix with sorting columns as columns, sorting rows as rows and <code>TRUE</code> (allowed) or <code>FALSE</code> (not allowed) in cells.</p>
    </div>

    <pre class="usage"><span class='fu'>psGrid</span>(<span class='no'>grid</span>, <span class='kw'>polygon</span> <span class='kw'>=</span> <span class='st'>"rectangle"</span>, <span class='kw'>offset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for psGrid</span>
<span class='fu'>validate_S3</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for integer</span>
<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for matrix</span>
<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for logical</span>
<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for psSort</span>
<span class='fu'>as_psGrid</span>(<span class='no'>obj</span>, <span class='no'>...</span>)

<span class='co'># S3 method for psGrid</span>
<span class='fu'>knit_print</span>(
  <span class='no'>x</span>,
  <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>footer</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>aspect_ratio_cards</span> <span class='kw'>=</span> <span class='fl'>85</span>/<span class='fl'>54</span>,
  <span class='kw'>inline</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>grid</th>
      <td><p><code>[matrix()]</code>
giving the availability of cells for sorting as <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> values.
The (horizontal) x-axis is assumed to be the sorting direction, the (vertical) y-axis for recording ties.
Dimensions can be named (recommended), giving a short description of the sorting dimension (only applicable to the x-axis).
Row and column <em>indeces</em> can also be named, but names are purely cosmetic.</p></td>
    </tr>
    <tr>
      <th>polygon</th>
      <td><p><code>[character(1)]</code> giving polygon to use for tiling</p>
<p>Must be one of:</p><ul>
<li><p><code>'rectangle'</code> (<strong>default</strong>) or</p></li>
<li><p><code>'hexagon'</code></p></li>
</ul></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p><code>[character(1)]</code> giving the <em>rows</em> to be offset.</p>
<p>Must be one of:</p><ul>
<li><p><code>NULL</code> in which case no offset is used for a square tiling. (<strong>default</strong>)</p></li>
<li><p><code>'even'</code> or</p></li>
<li><p><code>'odd'</code></p></li>
</ul></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An object with one of the pensieve S3 classes.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments to be passed to methods.</p></td>
    </tr>
    <tr>
      <th>obj</th>
      <td><p>An object which can be coerced to a logical matrix of class psGrid.</p></td>
    </tr>
    <tr>
      <th>header, footer</th>
      <td><p>A logical flag, defaults to <code>TRUE</code>, in which case column or row names from <code>grid</code> are included as headers or footers, respectively.
Missing row or column names are replaced with sensible defaults.</p></td>
    </tr>
    <tr>
      <th>aspect_ratio_cards</th>
      <td><p>A numeric scalar, giving width divided by height of <em>individual cards</em> (such as 16/9 for screen dimensions).
Aspect ratio of <em>cards</em> is required to appropriately set the resulting dimensions of the <em>grid</em>.
Defaults to standard business cards.</p></td>
    </tr>
    <tr>
      <th>inline</th>
      <td><p><code>[logical(1)]</code> indicating whether knitr is called from <em>inline</em> (<code>r 1+1</code>) or from a chunk.
Defaults to <code>FALSE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A logical matrix of class psGrid.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><em>Every</em> sort must have a grid.
Even a free distribution must have a grid, giving the maximum indices of rows and columns, but with all cells <code>TRUE</code>.</p>
    <h2 class="hasAnchor" id="methods-by-generic-"><a class="anchor" href="#methods-by-generic-"></a>Methods (by generic)</h2>

    
<ul>
<li><p><code>validate_S3</code>: Validation</p></li>
<li><p><code>as_psGrid</code>: Coercion from (named) integer(ish) vector, giving the column height of <code>TRUE</code>s from the bottom (names are retained as column names).</p></li>
<li><p><code>as_psGrid</code>: Coercion from a logical matrix as per psGrid.</p></li>
<li><p><code>as_psGrid</code>: Coerction from a logical vector (very unlikely).</p></li>
<li><p><code>as_psGrid</code>: Coercion from a character matrix psSort (sets all cells to <code>TRUE</code>).</p></li>
<li><p><code>knit_print</code>: Printing inside knitr chunks</p></li>
</ul>
    <h2 class="hasAnchor" id="hexagonal-tiling"><a class="anchor" href="#hexagonal-tiling"></a>Hexagonal tiling</h2>

    

<p>psGrid and psSort store <em>all</em> sorting grids as <em>rectangular</em> matrices, using what is known as the <a href='https://www.redblobgames.com/grids/hexagons/'>"offset" notation for hexagonal tiling</a>.
In offset notation, hexagonal tilings are saved as if they were normal (square) tilings, with an additional attribute giving which rows are to be offset.
In this way, both square and hexagonal tilings can be stored in a similar format.
They are also intuitive to use, where the outer limits of the tiling are rectangular, and rotation is not required, both of which are usually the case for sorting.
However, linear algebra operations are no longer defined on such hexagonal matrices in offset notation (that would require cube or axial coordinates).
Remember not to run such operations on hexagonally tiled psGrids or psSorts.</p>
<p>The <code>offset</code> argument is used to switch between loosely defined tiling patterns.
Strictly speaking there are  <em>three regular</em> tiling patterns: square, hexagonal and triangular.
However, items are more easily typeset in <em>rectangles</em> than in squares, hexagons or triangles.
You can therefore also use "square" tiling (<code>offset = NULL</code>) for rectangulary set items, and even "hexagonal" tiling (<code>offset = "even"</code> or <code>offset = "odd"</code>) for rectangles (in a "brickwall" pattern) and irregular (stretched or squeezed) hexagons.
One combination remains impossible: you cannot have "square" tiling (<code>offset = NULL</code>) with hexagons (<code>polygon = 'hexagon'</code>).</p>
<p>The aspect ratio of the <em>irregular</em> polygons is currently only provided to respective <code>knit_print()</code> methods.
To achieve <em>regular</em> square and hexagonal tiling (though this is unlikely to be useful), set <code>aspect_ratio_cards</code> to <code>1</code>.</p>
<p>Notice that <code>offset</code> always refers to <em>rows</em>, and as such implies hexagonal tiling in "<strong>pointy</strong>"-topped rotation.</p>
<p>Remember that rows for <code>offset</code> are given using <em>R</em> indices, starting with <code>1</code>.
Examples of offset notation in most other programming languages will differ."</p>
    <h2 class="hasAnchor" id="printing-in-knitr-chunks"><a class="anchor" href="#printing-in-knitr-chunks"></a>Printing in knitr chunks</h2>

    

<p>Extends the <code><a href='https://rdrr.io/pkg/knitr/man/knit_print.html'>knitr::knit_print()</a></code> generic for pensieve S3 objects.</p>
<p>By default <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code> in knitr will default to <code><a href='https://rdrr.io/pkg/knitr/man/knit_print.html'>knitr::knit_print()</a></code>, so to nicely print some object <code>obj</code> inside a chunk, you can just write <code><a href='https://rdrr.io/r/base/print.html'>print(obj)</a></code> or even just <code>obj</code>.</p>
<p>However, to manually invoke or preview the interactive displays in RStudio, you must call <code><a href='https://rdrr.io/pkg/knitr/man/knit_print.html'>knitr::knit_print()</a></code> in full.
The <code><a href='https://rdrr.io/r/base/print.html'>base::print()</a></code>ing method of the underlying classes is <em>not</em> altered outside of a knitr chunk.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other S3 classes from <code>pensieve</code>: 
<code>correlate()</code>,
<code>extract()</code>,
<code>psClosedSorts()</code>,
<code>psItemContent()</code>,
<code>psOpenSorts()</code>,
<code>psOpenSort()</code>,
<code>psPeople()</code>,
<code>score()</code></p>
<p>Other print functions: 
<code>psItemContent()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create simple grids ====</span>

<span class='co'># make simple matrix by hand</span>
<span class='no'>m</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>FALSE</span>, <span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>, <span class='fl'>TRUE</span>), <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>grid_byhand</span> <span class='kw'>&lt;-</span> <span class='fu'>psGrid</span>(<span class='kw'>grid</span> <span class='kw'>=</span> <span class='no'>m</span>)

<span class='co'># matrix with better dimnames</span>
<span class='fu'><a href='https://rdrr.io/r/base/dimnames.html'>dimnames</a></span>(<span class='no'>m</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>NULL</span>), <span class='co'># rows, or y-dimension is meaningless, used for ties</span>
  <span class='kw'>desirable</span> <span class='kw'>=</span> <span class='kw'>NULL</span>  <span class='co'># no use in adding actual column names</span>
  <span class='co'># say, desirable is the short form for the sorting conditition used on x</span>
)
<span class='no'>grid_byhand</span> <span class='kw'>&lt;-</span> <span class='fu'>psGrid</span>(<span class='kw'>grid</span> <span class='kw'>=</span> <span class='no'>m</span>)

<span class='co'># coerce grid from conventional distribution notation</span>
<span class='no'>grid_bycoercion</span> <span class='kw'>&lt;-</span> <span class='fu'>as_psGrid</span>(<span class='kw'>obj</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>1</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#methods-by-generic-">Methods (by generic)</a></li>
      <li><a href="#hexagonal-tiling">Hexagonal tiling</a></li>
      <li><a href="#printing-in-knitr-chunks">Printing in knitr chunks</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Max Held.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '3cb428b0eb896bffce7bf64509cf7054',
    indexName: 'pensieve',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


