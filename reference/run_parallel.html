<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extract many random matrix eigenvalues. — run_parallel • pensieve</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Extract many random matrix eigenvalues. — run_parallel" />
<meta property="og:description" content="Extract eigenvalues from randomly generated data, parametrized as original data." />
<meta property="og:image" content="http://www.maxheld.de/pensieve/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-48816137-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-48816137-1');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pensieve</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9022</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Design</li>
    <li>
      <a href="../articles/methodology.html">Methodology</a>
    </li>
    <li>
      <a href="../articles/items.html">Items</a>
    </li>
    <li>
      <a href="../articles/grid.html">Grid</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">New Approaches</li>
    <li>
      <a href="../articles/pairwise.html">Pairwise</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maxheld83/pensieve">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract many random matrix eigenvalues.</h1>
    <small class="dont-index">Source: <a href='https://github.com/maxheld83/pensieve/blob/master/R/nfactors.R'><code>R/nfactors.R</code></a></small>
    <div class="hidden name"><code>run_parallel.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract eigenvalues from randomly generated data, parametrized as original data.</p>
    </div>

    <pre class="usage"><span class='fu'>run_parallel</span>(
  <span class='kw'>dataset</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>centile</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>runs</span> <span class='kw'>=</span> <span class='fl'>5000</span>,
  <span class='kw'>cutoff</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>grid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>p</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataset</th>
      <td><p>An integer matrix with item-cases as rows and people-variables as columns.
Defaults to <code>NULL</code>, in which case parameters must be passed to <code>draw_rand_sort()</code> using <code>...</code>.</p></td>
    </tr>
    <tr>
      <th>centile</th>
      <td><p>A positive numerical vector of length 1, as the percentile of random eigenvalues to return.
Defaults to the conventional significance threshold of <code>.95</code>.</p></td>
    </tr>
    <tr>
      <th>runs</th>
      <td><p>A positive integer vector of length 1, as the number of random data to draw, defaults to <code>5000</code>.
Lower number will reduce computational cost, but results may be less reliable.</p></td>
    </tr>
    <tr>
      <th>cutoff</th>
      <td><p>A positive integer vector of length 1, as the maximum number of Principal Components to extract from random data.
Defaults to <code>NULL</code>, in which case the minimum of <code>n</code> and <code>p</code> are used, because there can be no more Principal Components than there are item-cases <code>or</code> people-variables in a dataset.
Manually specifying a lower number may reduce the computational cost.</p></td>
    </tr>
    <tr>
      <th>grid</th>
      <td><p>A positive integer vector of a length covering the range of values, specifying maximum allowed frequencies for each value.
(in Q-parlance, the maximum column heights for the Q-sorts).</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>A positive integer vector of length 1, as the number of people-variables.
Defaults to <code>NULL</code>, in which case parameter is inferred from <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>A positive integer vector of length 1, as the number of item-cases.
Defaults to <code>NULL</code>, in which case parameter is inferred from <code>data</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A numerical vector of length <code>cutoff</code>, with Eigenvalues for consecutive Principal Components.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Implements Horn's (1965) parallel analysis as a guide to inform factor retention, with appropriate parametrization for Q-sort data (via <code>draw_rand_sort()</code>).</p>
<p>Random data can include spurious correlations and spurious factors by mere chance.
This problem might affect Q studies, too: people might produce similar Q sorts not because they share viewpoints, but just out of random chance.
Parallel analysis tests this assertion by extracting (spurious) principal components from many sets of random data, similarly parametrized as the provided <code>data</code>.</p>
<p>The analysis returns the random eigenvalues at the specified <code>centile</code> over all of the specified random <code>runs</code>.
This result can be interpreted as a necessary Eigenvalue threshold for some <em>observed</em> principal component to be considered non-spurious, with the specified centile as the confidence (or significance level).</p>
<p>In summary, parallel analysis suggests the number of factors in the data that are unlikely to be products of random chance at some significance level <code>centile</code>.</p>
<p>For more details, consider the related <a href='https://cran.r-project.org/web/packages/paran/index.html'>paran package</a>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function is currently based on principal components analysis (PCA) as a ``factor'' extraction technique.
Thompson (2004: 30ff) and others seem to suggest that such PCA-based criteria can be used as rough indications for how many factors to extract with other exploratory techniques.
However, some of the results presented here are meaningful <em>only</em> in a PCA-context, and dependent functions are sometimes called with PCA-related options.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Glorfeld, L. W. 1995: <em>An Improvement on Horn-s Parallel Analysis Methodology for Selecting the Correct Number of Factors to Retain</em>, Educational and Psychological Measurement. 55(3): 377-393.</p></li>
<li><p>Horn, J. L. (1965): <em>A rationale and a test for the number of factors in factor analysis</em>, Psychometrika. 30: 179-185.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other parallel-analysis: 
<code>draw_rand_sort()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>dataset</span> <span class='kw'>&lt;-</span> <span class='no'>civicon_2014</span>$<span class='no'>qData</span>$<span class='no'>sorts</span>[,,<span class='st'>"before"</span>]
<span class='fu'>run_parallel</span>(<span class='kw'>dataset</span> <span class='kw'>=</span> <span class='no'>dataset</span>,  <span class='co'># parameters are inferred</span>
             <span class='kw'>runs</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='co'># way too few, just to make this fast</span>
             <span class='kw'>centile</span> <span class='kw'>=</span> <span class='fl'>.95</span>)  <span class='co'># default</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Argument 'grid' is inferred from maximum value counts of 'dataset'.</span>
#&gt; <span class='warning'>              Consider supplying 'grid' as an argument</span></div><div class='output co'>#&gt;  [1] 2.1718307 1.8381350 1.6595384 1.5558306 1.4138646 1.3088370 1.1861824
#&gt;  [8] 1.0932242 1.0327707 0.9896309 0.8743652 0.7802713 0.7360326 0.6864084
#&gt; [15] 0.5831933 0.5334487 0.4532076 0.3704077</div><div class='input'># results are all the same, because study used forced Q distribution
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Maximilian Held</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Max Held.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '3cb428b0eb896bffce7bf64509cf7054',
    indexName: 'pensieve',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


